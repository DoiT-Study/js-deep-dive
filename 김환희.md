# Js deepdive study 11/2

### 12.1 함수란?

일련의 과정을 문(statement)으로 표현하고 코드 블록으로 감싸서 하나의 실행단위로 정의한 것이다.

입력을 ‘전달’받는 변수를 매개변수,

입력을 인수,

출력을 반환값이라 한다.

함수를 구분하기 위한 식별자인 함수이름을 사용한다.

함수는 함수 정의를 통해 생성한다.

매개변수를 통해 인수를 함수에 전달한다. = 함수 호출 ⇒ 함수는 반환값을 반환한다.

### 12.2 함수를 사용하는 이유

코드의 실행시점을 개발자가 결정할 수 있다.

몇 번이든 재사용이 가능하며, 코드 수정이 편리하다. 

이름(식별자)을 붙일 수 있으며 식별자는 함수의 역할을 설명한다.

⇒ 함수는 편의성, 코드의 신뢰성, 코드의 가독성을 향상한다.

### 12.3 함수 리터럴

함수도 리터럴로 생성할 수 있다.

(5.2절에서 리터럴에 대해 살펴보았다.)

리터럴은 사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기 방식이다.

구성요소

1) 함수 이름

식별자 네이밍 규칙을 준수해야 한다.

함수 몸체 내에서만 참조할 수 있다.

생략할 수 있다.

2) 매개변수

0개 이상의 매개변수를 소괄호로 감싸고 쉼표로 구분한다.

순서에 따라 지정된 인수가 할당된다.

함수 내에서 매개변수는 변수와 동일하게 취급되므로 식별자 네이밍 규칙을 준수해야 한다.

3) 함수 몸체

함수의 동작을 하나의 실행단위로 정리한 코드 블록이다.

함수는 호출 할 수 있는 객체이다. (자바스크립트의 특징이다.)

### 12.4 함수 정의

정의된 함수는 자바스크립트 엔진에 의해 평가되어 함수 객체가 된다.

함수 정의 방법

1) 함수 선언문

```jsx
function add(x,y){
	return x+y;
}
```

2) 함수 표현식

```jsx
var add = function (x+y){
	return x+y;
};
```

3) Function 생성자 함수

```jsx
var add = new Function(’x’,’y’,’return x+y’);
```

4) 화살표 함수(ES6)

```jsx
var add = (x,y)=>x+y;
```

12.4.1 함수 선언문

함수 선언문은 함수 리터럴과 형태가 동일한데, 함수 이름을 생략할 수 없다.

function (x,y){

return x+y;

}                            (에러) function 뒤에 함수 이름이 없다

함수 선언문은 표현식이 아닌 문이다. 따라서 크롬 개발자 콘솔에서 함수 선언문을 실행하면 undefined인 완료값이 출력된다.

표현식인 문이라면, 표현식이 평가되어 함수가 출력되어야 한다.

함수 선언문은 표현식이 아닌 문이므로, 당연히 변수에도 할당할 수 없다.

하지만, 다음 예시를 살펴보면 함수 선언문이 변수에 할당되는 것 처럼 보인다

```jsx
var add = function add(x,y){
	return x+y;
};
console.log(add(2,5));
```

### 12.5 함수 호출

함수는 함수를 가리키는 식별자와 한 쌍의 소괄호인 함수 호출 연산자로 호출한다.

12.5.1 매개변수와 인수

함수는 매개변수를 통해 인수를 전달하는데, 인수는 개수와 타입에 제한이 없다.

매개변수는 함수 정의시 선언하며, 함수 내부에서 변수와 동일하게 취급된다. 또한 매개변수의 스코프(유효범위)는 함수 내부로 제한된다.

인수가 부족하면 남은 매개변수의 값은 undefined이며 인수가 초과되는 경우에는 초과된 인수는 무시된다.

사실 매개변수의 개수를 초과하든 말든 모든 인수는 arguments 객체의 프로퍼티로 보내지며 가변인자 함수를 구현할때 arguments객체가 쓰이는데 이는 18장에서 다룬다.

12.5.2 인수확인

함수 내부에서 적절한 인수가 전달되었는지 확인하더라도, 부적절한 호출을 사전에 방지할 수는 없고, 에러는 런타임이 되어서야 알아차릴 수 있다.

따라서 타입스크립트와 같은 정적 타입을 선언할 수 있는 상위확장을 도입하는것도 하나의 방법이다.

12.5.3 매개변수의 최대 개수

매개변수가 많아지면 함수를 호출할 때 전달해야 할 인수의 순서를 고려해야하기 때문에 유지보수가 어려워지고 함수를 사용하는 코드 전체가 영향을 받는다.

따라서 함수는 한 가지 일만 하며 가급적 작게 만들어진 함수가 이상적인 함수이다.

또한 매개변수는 최대 3개 까지를 권장하며 그 이상이 필요할 경우엔 매개변수를 선언 할 수, 객테를 인수로 전달하는 것이 유리하다.

12.5.4 반환문

함수는 return 키워드와 표현식으로 이루어진 반환문을 사용해 실행 결과를 함수 외부로 반환 할 수 있다.

(예제 12-27 참조)

함수 호출은 표현식이기 때문에 return 키워드가 반환한 반환값으로 함수는 평가된다.

만약, return 뒤에 반환값을 명시하지 않으면 undefined가 반환된다.

반환문은 생략도 가능한데, 이 경우 return값이 명시되있지 않기 때문에 undefined를 암묵적으로 반환하게 된다.