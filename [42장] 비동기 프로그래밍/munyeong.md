# 42장

## 자바스크립트 엔진
하나의 실행 컨텍스트 스택(콜 스택)을 가짐
<br>
=> 싱글 스레드 방식으로 동작

<br>

? 싱글 스레드
<br>
한 번에 하나의 태스크만 실행 가능
<br>
처리에 시간이 걸리는 태스크를 실행하는 경우 블로킹(작업 중단)이 발생 

<br>

## ? 동기 vs 비동기
동기 처리
<br>
현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식
- 장점 : 태스크의 실행 순서가 보장됨
- 단점 : 블로킹이 발생함

<br>

비동기 처리
<br>
현재 실행 중인 태스크가 종료되지 않은 상태여도 다음 태스크를 실행하는 방식
- 장점 : 블로킹이 발생하지 않음
- 단점 : 태스크의 실행 순서가 보장되지 않음

<br>


## 이벤트 루프와 태스크 큐

- 자바스크립트의 동시성을 지원

<br>

? 태스크 큐
<br>
비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역


<br>

? 이벤트 루프
<br>
1. 콜 스택이 비어있을 경우
2. 태스크 큐에 대기 중인 함수가 있을 경우
<br>
=> 태스크 큐에 대기 중인 함수를 콜 스택으로 이동시킴

<br>
예제)
<br>

```javascript
function foo() {
    console.log('foo');
}

function bar() {
    console.log('bar');
}

setTimeout(foo, 0);
bar();
```
콜 스택
<br>
전역 코드 푸시 -> setTimeout 함수 푸시 -> setTimeout 함수 팝 -> bar 함수 푸시 -> bar 함수 팝 -> 전역 코드 팝 -> foo 함수 푸시 -> foo 함수 팝

태스크 큐 
<br>
콜백 함수(foo) 푸시 
