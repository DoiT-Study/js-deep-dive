23.5 렉시컬 환경

렉시컬 환경: 실행 컨텍스트를 구성하는 컴포넌트

실행 컨텍스트는 LexicalEnvironment 컴포넌트와 variableEnvironment 컴포넌트로 구성됨.

LexicalEnviornment(렉시컬 환경) : EnvironmentRecord와 OuterLexicalEnvironmentReference라는 컴포넌트로 구성됨

EnvironmentRecord(환경레코드) : 스코프에 포함된 식별자를 등록하고, 등록된 식별자에 바인딩된 값을 관리하는 저장소.
OuterLexicalEnvironmentReference(외부 렉시컬 환경에 대한 참조) : 상위 코드의 렉시컬 환경. 이 참조를 통해 단방향 링크드 리스트인 스코프 체인을 구현한다.

23.6 실행 컨텍스트의 생성과 식별자 검색 과정

23.6.1 전역 객체 생성
전역 객체는 전역 코드가 평가되기 이전에 생성된다.

소스코드가 로드되면 자바스크립트 엔진은 전역 코드를 평가한다.

1. 전역 실행 컨텍스트 생성
2. 전역 렉시컬 환경 생성
   1. 전역 환경 레코드 생성
   2. this 바인딩
   3. 외부 렉시컬 환경에 대한 참조 결정

p369 그림 23-9 참조

참고!!
실행 컨텍스트는 코드 실행의 현재 상태와 실행 흐름을 추적하고 관리하는 데 중점을 두며, 렉시컬 환경은 변수 및 스코프 정보를 저장하고 스코프 체인을 구성하는 데 중점을 둡니다. 실행 컨텍스트 내에서 렉시컬 환경은 코드의 스코프 및 변수에 대한 정보를 제공하는 데 사용됩니다.

비어 있는 전역 실행 컨텍스트 생성
실행 컨텍스트 스택에 푸시
-> 전역 실행 컨텍스트가 스택의 최상위가 되므로, 실행 중인 실행 컨텍스트가 된다.
전역 렉시컬 환경을 생성하고 전역 실행 컨텍스트에 바인딩한다

객체 환경 레코드 생성
전역 함수는 전역 환경 레코드의 객체 환경 레코드에 연결된 bindingobject를 통해 전역 객체의 포르퍼티와 메서드가 된다.
?
